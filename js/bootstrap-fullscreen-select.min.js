try{}catch(e){console.error("MobileSelect's javascript requires jQuery")}!function(e){e.fn.mobileSelect=function(t){var i=e(this);if(!i.length)return"no elements to process";if(t||(t={}),"hide"==t&&1==e(this).length){var a=e(this).attr("data-id");a&&mobileSelect.hide(a)}if("show"==t&&1==e(this).length){var a=e(this).attr("data-id");a&&mobileSelect.show(a)}"destroy"==t&&e.each(e(this),function(){var t=e(this).attr("data-id");t&&mobileSelect.destroy(t)}),("refresh"==t||"sync"==t)&&e.each(e(this),function(){var t=e(this).attr("data-id");t?mobileSelect.sync(t):console.error("cannot refresh or sync without initializing it.")}),e.mobileSelect.defaults&&e.extend(e.fn.mobileSelect.defaults,e.mobileSelect.defaults),t=e.extend({},e.fn.mobileSelect.defaults,t),i.each(function(){var i=e(this);if("SELECT"!==i[0].tagName)return console.warn("Sorry, "+i[0].tagName+" element is illegal here."),!0;var a=(new Date).getTime()+Math.floor(1e10*Math.random());i.attr("data-id",a),mobileSelect[a]=e.extend({},t),mobileSelect.elements.push(a);var n=mobileSelect[a];n.id=a,n.isMultiple=i.attr("multiple")?!0:!1,n.$this=i,i.hide(),void 0!==i.attr("data-triggerOn")?n.triggerElement=e(i.attr("data-triggerOn")):(void 0!==i.data("style")&&(n.style=i.data("style")),i.before('<button class="btn '+n.style+' btn-mobileSelect-gen"><span class="text">0 Selected</span> <span class="caret"></span></button>'),n.triggerElement=i.prev()),n.triggerElement.data("id",n.id),void 0!==i.data("title")&&(n.title=i.data("title")),void 0!==i.data("animation")&&(n.animation=i.data("animation")),void 0!==i.attr("data-animationSpeed")&&(n.animationSpeed=i.attr("data-animationSpeed")),void 0!==i.data("padding")&&(n.padding=i.data("padding")),void 0!==i.data("btntext-save")&&(n.buttonsText.save=i.data("btntext-save")),void 0!==i.data("btntext-clear")&&(n.buttonsText.clear=i.data("btntext-clear")),void 0!==i.data("btntext-cancel")&&(n.buttonsText.cancel=i.data("btntext-cancel")),void 0!==i.data("theme")&&(n.theme=i.data("theme")),mobileSelect._build(n.id),delete n})},e.mobileSelect={},e.fn.mobileSelect.defaults={template:'<div><div class="mobileSelect-title"></div><div class="list-container"></div><div class="mobileSelect-buttons"><a href="#" class="mobileSelect-savebtn"></a><a href="#" class="mobileSelect-clearbtn"></a><a href="#" class="mobileSelect-cancelbtn"></a></div></div>',title:"Select an option",buttonsText:{save:"Save",clear:"Clear",cancel:"Cancel"},padding:{top:"20px",left:"20px",right:"20px",bottom:"20px"},animation:"scale",animationSpeed:400,theme:"white",onOpen:function(){},onClose:function(){},style:"btn-default"},window.mobileSelect={elements:[],animations:["anim-top","anim-bottom","anim-left","anim-right","anim-opacity","anim-scale","anim-zoom","anim-none"],_build:function(e){this.events(),this._events(e),this._buildHTML(e)},_buildHTML:function(t){var i=this[t],a=i.animationSpeed/1e3,n=e('<div class="mobileSelect-container"></div>').attr("data-id",t).addClass(i.theme).appendTo("body"),l=e.fn.mobileSelect.defaults.template;n.html(l),n.children("div").css({"-webkit-transition":"all "+a+"s",transition:"all "+a+"s"}).css(i.padding).addClass("anim-"+i.animation),$listcontainer=n.find(".mobileSelect-title").html(i.title).end().find(".mobileSelect-savebtn").html(i.buttonsText.save).end().find(".mobileSelect-clearbtn").html(i.buttonsText.clear).end().find(".mobileSelect-cancelbtn").html(i.buttonsText.cancel).end().find(".list-container"),i.isMultiple?$listcontainer.attr("data-multiple","true"):n.find(".mobileSelect-clearbtn").remove(),this._buildOptions(t),this.refectSelected()},_buildOptions:function(t){this._extract(t);var i=this[t],a=e('.mobileSelect-container[data-id="'+t+'"] .list-container');a.html(""),e.each(i.options,function(e,t){a.append('<a href="#" class="mobileSelect-control" data-value="'+t.value+'">'+t.text+"</a>")})},destroy:function(t){t=void 0==t?this.elements:[t];var i=this;t.forEach(function(t){var a=mobileSelect[t];e('.mobileSelect[data-id="'+t+'"]').remove(),a.triggerElement.unbind("click"),i.elements.shift(i.elements.indexOf(t)),delete mobileSelect[t]})},sync:function(t){t=void 0==t?this.elements:[t];var i=this;t.forEach(function(t,a){i._buildOptions(t);var n=mobileSelect[t],l=e('.mobileSelect-container[data-id="'+t+'"]'),o=n.$this.val();n.isMultiple||(o=[o]),l.find("a").removeClass("selected");for(var a in o)l.find('a[data-value="'+o[a]+'"]').addClass("selected")})},syncR:function(t){t=void 0==t?this.elements:[t],t.forEach(function(t){var i=mobileSelect[t],a=e('.mobileSelect-container[data-id="'+t+'"]'),n=[];a.find(".selected").each(function(){n.push(e(this).data("value"))}),i.$this.val(n)})},_events:function(t){var i=this[t];i.triggerElement.unbind("click").on("click",function(){var t=e(this),i=t.data("id");return mobileSelect.sync(i),mobileSelect.show(i),!1})},_extract:function(t){var i=this[t],a=i.$this,n=[];e.each(a.find("option"),function(){if(e(this).text()){var t="OPTGROUP"==e(this).parent().prop("tagName")?e(this).parent().attr("label"):!1;n.push({value:e(this).val(),text:e.trim(e(this).text()),grouplabel:t})}}),this[t].options=n},hide:function(t){if(!t)return!1;var i=this[t];this.refectSelected();var a="anim-"+i.animation;t?e('.mobileSelect-container[data-id="'+t+'"] > div').addClass(a):e(".mobileSelect-container > div").addClass(a),setTimeout(function(){e('.mobileSelect-container[data-id="'+t+'"] ').hide(),e("body").removeClass("mobileSelect-noscroll"),t&&i.onClose.apply(i.$this)},i.animationSpeed)},refectSelected:function(){var t=this;e.each(t.elements,function(e,i){var a,n=t[i];return n.triggerElement.hasClass("btn-mobileSelect-gen")?(a=null==t[i].$this.val()?"0":t[i].isMultiple?t[i].$this.val().length:t[i].$this.val(),t[i].triggerElement.find("span.text").html("<strong>"+a+"</strong> selected"),void 0):!1})},show:function(t){var i=this[t],a=this.animations.join(" ");e('.mobileSelect-container[data-id="'+t+'"] ').show(),e("body").addClass("mobileSelect-noscroll"),setTimeout(function(){t?e('.mobileSelect-container[data-id="'+t+'"] > div').removeClass(a):e(".mobileSelect-container > div").removeClass(a),i.onOpen.apply(i.$this)},500)},events:function(){return this.eventsFired?!1:(e(document).on("click",".mobileSelect-control",function(){var t=e(this);return"true"===t.parent().attr("data-multiple")?t.toggleClass("selected"):t.siblings().removeClass("selected").end().addClass("selected"),!1}),e(document).on("click",".mobileSelect-cancelbtn",function(){var t=e(this).parents(".mobileSelect-container").data("id");return mobileSelect.hide(t),!1}),e(document).on("click",".mobileSelect-savebtn",function(){var t=e(this),i=t.parents(".mobileSelect-container").data("id");return mobileSelect.syncR(i),mobileSelect.hide(i),!1}),e(document).on("click",".mobileSelect-clearbtn",function(){var t=e(this),i=t.parents();i.find(".selected").removeClass("selected");var a=t.parents(".mobileSelect-container").data("id");return mobileSelect.syncR(a),mobileSelect.hide(a),!1}),this.eventsFired=!0,void 0)}}}(jQuery);